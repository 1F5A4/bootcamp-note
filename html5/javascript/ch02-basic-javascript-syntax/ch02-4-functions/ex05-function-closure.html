<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Function Closure</title>
<link rel="icon" href="data:;base64,iVBORw0KGgo=">
</head>
<body>
	<h3>클로저(closures)</h3>

	<!-- -------------------------------------------------------------------------------
	
		- 내부함수는 클로저를 형성한다.
		- 내부함수는 외부함수의 명령문에 의해서만 호출 가능하다.
		- 내부함수는 외부함수의 인자와 변수를 사용할 수 있다.
		- 클로저 
			: 반환된 내부함수가 자신이 선언되었을 때의 환경인 스코프를 기억하여 
			  자신이 선언 되었을 때의 환경 밖에서 호출되어도 그 환경에 접근할 수 있는 함수
		- 클로저는 자신이 생성될 때의 환경을 기억하는 함수라 할 수 있다. 
		
	-------------------------------------------------------------------------------- -->

	<script type="text/javascript">
		function fun(x) { // 외부함수
			let n = 10;

			// 내부함수(클러저)
			function sub(y) {
				return n + x + y; //외부함수의 변수나 매개변수 접근 가능 
			}

			return sub(3); // 외부함수에서 내부함수 호출
		}

		console.log(fun(5)); // 18

		function fun2(x) {
			function sub2(y) {
				return x + y;
			}

			return sub2; // 함수 이름만 넘김 
		}

		var fn = fun2(2); // sub2 이름 반환   // 값 2를 보존함
		var n = fn
		(3); // sub2(3)           // 따라서 2 + 3
		console.log(n); // 5

		n = fun2(10)(3) // 함수 이름(3) = sub2(3)    // 값 10을 보존함, 따라서 10 + 3
		console.log(n); // 13
	</script>
	
	
<!-- CONCEPT -----------------------------------------------------------------------------------------------------------

	- 클로저(Closure)
		1. 함수가 반환된 후에도 원래의 스코프(lexical scope)를 기억함
		2. 내부 함수는 외부 함수의 변수/매개변수에 접근 가능
		3. 데이터를 은닉하거나, 특정 값 유지 및 제어할 때 자주 사용됨

---------------------------------------------------------------------------------------------------------------------- -->	
	
</body>
</html>